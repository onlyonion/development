《ACE技术内幕 深入解析ACE架构设计与实现原理》潘荣 机械工业出版社

Adaptive Communication Environment

## 第1章 概述
Socket编程技术是整个网络编程的基础，而ACE的Socket封装则是ACE对Socket编程接口面向对象的封装，它为上一层提供了统一的、面向对象的编程接口。

### 1.1 模式与框架
软件模式：
* 架构模型 提供一组预定义的子系统，并描述这些子系统的职责，以及它们之间内部关系的组织原则。
* 设计模式 架构模式中描述系统及它们之间的关系，通常由更小的架构单元组成。这些小的架构单元用设计模式来描述。
  主要用于描述和设计系统中的子系统、模块或组件，以及它们之间的关系。
* 惯用法 描述了利用给定的语言的特性来实现子系统、模块或组件中的特殊方面，以及它们之间的关系。

模式贯穿了软件开发流程的几个关键阶段：
* 系统分析 分析模式
* 系统设计 架构模式
* 模块设计实现 设计模式
* 实现 惯用法

### 1.2 ACE框架
ACE是一个跨平台的用于并发通信的C++框架。ACE提供了丰富的可重用的C++封装器（Wrapper Facade）和框架组件。
ACE利用进程间通信、事件分离、动态链接和并发技术简化了面向对象的网络开发。

## 第2章 Reactor框架
### 2.1 Reactor构架模式
1. 意图 在事件驱动的应用中，将一个或多个客户端的服务请求分离（demultiplex）和调度（dispatch）给应用程序
2. 上下文 在事件驱动的应用中，同步地、有序地处理同时接收多个服务请求
3. 问题
4. 解决发难
5. 结构 在Reactor模式中，有5个关键的参与者：
    * 描述符（handle）：由操作系统提供，用于识别每一个事件，如Socket描述符、文件描述符。
    * 同步事件分离器（demultiplexer） 是一个函数，用来等待一个或多个事件的发送，调用者会被阻塞，直到分离器分离的描述符集上有事件发生。linux的select函数
    * 事件处理接口（event handler）
    * 具体的事件处理器（concrete event handler）
    * Reactor管理器（reactor）：定义了一些接口，用于应用程序控制事件调度，以及应用程序注册、删除事件处理器的相关描述符。

## 第3章 Service Configuration框架
Service Configuration框架，该框架使用Component configurator架构模式。这种架构模式通过解耦服务的行为和服务配置到应用程序中的时间点，
提高应用程序的可扩展性和灵活性。通过Configuration框架，应用程序可以延缓配置和实现一直到程序的运行期，而不是编译器。

## 第4章 Task框架
### 4.1 Task框架概述
Task框架通过在对象的上下文中创建线程，在独立的线程间传递消息，来提高网络并发程序的模块性和可扩展性。

## 第5章 Acceptor_Connector框架
Acceptor_Connector框架，它建立在Reactor框架上的应用框架。

### 5.1 Acceptor_Connector架构模式
Acceptor_Connector架构模式将网络连接的建立、服务的初始化以及服务初始化之后所要执行的处理解耦。

## 第6章 Proactor框架
异步IO，AIO基本思想是运行进程发起很多AIO操作，而不用等待或阻塞任何操作。在接收到AIO操作完成的通知后，进程就可以检索AIO操作的结果，获取操作信息。

### 6.1 Proactor架构模式
在事件驱动的应用中，Proactor架构模式通过异步操作完成事件来触发客户的服务请求，以便这些服务请求能够更有效地被分离和调度，
从而发挥在并发应用中的性能优势。
1. 意图 在事件驱动的应用中，将一个或多个客户端的服务请求分离（demultiplex）和调度（dispatch）给应用程序
2. 上下文 在事件驱动应用中，异步接收和处理多个服务请求
3. 问题 
4. 解决方案
5. 结构
  * 描述符（handle）
  * 异步操作（Asynchronous Operation）
  * 事件完成处理接口(Completion Handler)
  * 具体的事件完成处理器
  * 异步事件处理器
  * 事件队列（Completion Event Queue）：异步操作总是在同一个句柄上调用，由操作系统执行，最后由操作系统返回一个操作完成事件，并插入到事件队列中
  * 异步事件分离器（Asynchronous Event Demultiplexer）
  * Proactor管理器
  * 初始化器（Initiator）


## 第7章 Streams框架
Steams框架是管道和过滤架构模式的一种实现，主要应用于处理数据流的系统。

### 7.1 管道和过滤器构架模式
管道和过滤器架构模式为处理数据流的系统提供了一种结构。每一个处理步骤都被封装在一个过滤器组件中。数据在相邻的过滤器之间通过管道传输。
我们可以通过重新组装这些过滤器来构建相关的系统簇。