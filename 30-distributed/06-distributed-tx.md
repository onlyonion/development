### 理论基础
JDBC、JTA
ACID
CAP
BASE

### 产生原因
多服务节点（服务拆分，每个服务一个库）
多数据库节点（同一服务分库）
跨数据源

### 解决
* DB层解决（刚性事务，严格ACID） 合并微服务；基于XA的2PC
* 分布式事务组件 + 业务层配合（柔性事务） TCC（应用层的 2PC ）；本地事务表（本地消息表）；事务消息等各种方案

#### 解决思想
将业务中的事务分解成一个个在独立分库上执行的子事务。
用异步重试的方式执行这些子事务，由框架或应用保证重试的 “幂等”。
如果需要回滚，以同样方式执行另一组子事务组成的补偿操作，恢复事务前的业务状态。

#### 业务层要求
可查询
幂等
可补偿
