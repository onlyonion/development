《计算机网络》 谢希仁 电子工业出版社

* OSI 7层
* TCP/IP 协议族

## 1. 概述

### 1.2 因特网概述
* 网络有若干**节点（node）**和连接这些节点的**链路（link）**组成。节点有计算机、集线器、交换机、路由器等。
* 习惯上，连接在因特网上的计算机称为主机
* 网络把许多计算机连接在一起，因特网把许多网络连接在一起

### 1.3 因特网的组成

### 1.7 计算机网络体系结构
* 为进行网络中的**数据交换**而建立的规则、标准或协议成为网络协议。三要素：
  - 语法，即数据与控制信息的结构或格式
  - 语义，即需要发出何种控制信息，完成何种动作以及做出何种响应
  - 同步，即事件实现顺序的详细说明

网络中各层要完成的功能主要有：
1. 差错控制
2. 流量控制
3. 分段和重装
4. 复用和分用
5. 连接建立和释放

## 2. 物理层

屏蔽网络中的硬件设备与传输媒体的差异，使上层数据链路层感觉不到差异

转发器(repeater)

## 3. 数据链路层

网桥、桥接器(bridge)

## 4. 网络层

网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务
网络层不提供服务质量的承诺

* ICMP
* IGMP
* IP
* ARP IP address -> MAC
* RARP MAC -> IP address

路由器(router)
网络层以上的中间设备，网关(gateway)

APR高速缓存

## 5. 运输层

### 5.1 
运输层向它上面的应用层提供通信服务
从运输层上将，通信的真正断点并不是主机而是主机中的应用进程

* 复用 multiplexing   发送方不同的应用进程可以使用同一个运输层协议传送数据
* 分用 demultiplexing 接收方在剥去报文的首部能够把这些数据正确交付到目的应用进程

### 5.2 UDP

### 5.3 TCP
#### 5.3.1 TCP最主要的特点

* 面向连接
* 只能有两个端点
* 可靠交付
* 全双工
* 面向字节流

#### 5.3.2 TCP的连接

套接字 socket = （IP地址：端口号）

### 5.4 可靠传输的工作原理

#### 5.4.1 停止等待协议
每发送完一个分组就停止发送，等待对方的确认，在收到对方确认之后，在发送下一个分组。

#### 5.4.2 连续ARQ协议
发送方没收到一个确认，就把发送窗口向前滑动一个分组的位置。
接收方累积确认，接收到几个分组之后，对按序到达的最后一个分组发送确认。

### 5.5 TCP报文段的首部格式
* 窗口 占2字节。[0, 2^16 - 1]之间的整数。窗口指的是发送本报文段的一方的接收窗口。

### 5.6 TCP可靠传输的实现
#### 5.6.1 以字节为单位的滑动窗口
#### 5.6.2 超时重传时间的选择
#### 5.6.3 选择确认SACK

### 5.7 TCP的流量控制
让发送方的发送速率不要太快，要让接收方来的及接收。

#### 5.7.1 利用滑动窗口实现流量控制
#### 5.7.2 必须考虑传输效率

### 5.8 TCP的拥塞控制
* 拥塞 若对网络中某一资源的需求超过了该资源所能提供的可用部分
* 拥塞控制 防止过多的数据注入到网络中，这样可以使网络中的路由器或链接不知过载

#### 5.8.2 拥塞控制方法
* 慢开始
* 拥塞避免
* 快重传
* 快恢复

### 5.9 TCP的运输连接管理
#### 5.9.1 连接建立                     
#### 5.9.2 连接释放
#### 5.9.3 有限状态机

## 6. 应用层
* DNS
* FTP
* TELNET
* WWWW
* EMAIL
* DHCP
* SNMP

### 6.5 应用进程跨网络通信
* 系统调用 应用程序和操作系统之间传递控制
* 套接字作为应用进程和运输层之间的接口。套接字是应用进程为了获得网络通信服务而与操作系统进行交互时使用的机制。
* 服务端 socket -> bind -> listen -> accept -> recv -> send -> close
* 客户端 socket ->                  connect -> send -> recv -> close

## 7. 网络安全

### 7.6 安全协议
* 网络层 IPSec与安全关联SA；鉴别首部协议AH
* 运输层 SSL；SET
SSL对客户与服务器之间传送数据进行加密和鉴别。它在双方联络阶段（握手阶段）对将要使用的加密算法和双方共享的会话密钥进行协商，
完成客户与服务器之间的鉴别。

1. SSL服务器鉴别 允许用户验证服务器身份。客户端维持认证中心CA和公钥
2. 加密的SSL会话
3. SSL客户鉴别 允许服务器证实客户的身份。

* 应用层 PGP；PEM